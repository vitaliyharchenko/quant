// Попытка 1
// http://jsonapi.org
// http://jsonapi.org/format/

{
    "links": {
        "self": "/api/v1.0/blocks/1",
    },
    "api": {
        "version": "1.0"
    },
    "data": [
        {
            "type": "TextBlock",
            "id": "1",
            "attributes": {
                "id": "1",
                "title": "TextBlock title"
            },
            "relationships": {
                "author": {
                    "links": {
                        "self": "/blocks/1/relationships/author",
                        "related": "/blocks/1/author"
                    },
                    "data": {
                        "type": "user",
                        "id": "1"
                    }
                }
            },
            "links": {
                "text": "/api/v1.0/blocks/text/1",
                "self": "/api/v1.0/blocks/id"
            }
        }
    ]
},

// Попытка 2
// json-api-normalizer on habrahabr https://habrahabr.ru/post/318958/
// https://yury-dymov.github.io/json-api-react-redux-example/

{
    "api": {
        "version": "1.0"
    },
    "links": {
        "self": "/api/v1.0/question/1",
    },
    "data": {
        // ответ на конкретный запрос
        "meta": {
            "/test": {
                "loading": true,
                "data": [
                    {
                        "id": 1,
                        "type": "question",
                        "relationships": {
                            "posts": {
                                "type": "post",
                                "id": 1
                            }
                        }
                    }
                ]
            }
        },
        // остальные данные
        "question": {
            "1": {
                "attributes": {
                    "text": "How are you today?",
                    "id": 1
                },
                "relationships": {
                    "posts": {
                        "type": "post",
                        "id": 1
                    }
                }
            }
        },
        "post": {
            "1": {
                "attributes": {
                    "text": "I am fine",
                    "id": 1
                },
                "relationships": {
                    "author": {
                        "type": "user",
                        "id": 1
                    }
                }
            }
        },
        "user": {
            "1": {
                "attributes": {
                    "name": "Bob",
                    "id": 1
                }
            }
        }
    }
},

// Попытка 3

{
    "api": {
        "version": "1.0"
    },
    "data": {
        // ответ на конкретный запрос
        "meta": {
            // url запроса
            "/api/v1.0/blocks/1": {
                // статус загрузки
                "loading": true,
                // полученные данные
                "data": [
                    // объект без детализации, инфа достанется из "blocks" ниже
                    // специфичные поля вроде ссылок должны прилететь здесь
                    {
                        "id": "1",
                        "type": "blocks",
                        "relationships": {
                            "author": {
                                "data": {
                                    "type": "user",
                                    "id": "1"
                                },
                                "links": {
                                    "self": "/blocks/1/relationships/author",
                                    "related": "/blocks/1/author"
                                }
                            }
                        }
                    }
                ]
            }
        },
        // остальные данные
        "blocks": {
            // объект продублирован, так как данные нужно накапливать в React state
            "1": {
                "attributes": {
                    "id": "1",
                    "block_type": "text",
                    "title": "WIF with physics??",
                    "text_url": "/api/v1.0/blocks/text/1",
                },
                "relationships": {
                    "author": {
                        "type": "user",
                        "id": "1"
                    }
                }
            }
        },
        // связанные данные
        "user": {
            "1": {
                "attributes": {
                    "name": "Awesome teacher",
                    "id": "1"
                }
            }
        }
    }
}

// Попытка 4

{
    "api": {
        "version": "1.0"
    },
    "meta": {
        "url": "/api/v1.0/blocks/1",
        "loading": true
    },
    "data": [
        // объект без детализации, инфа достанется из "blocks" ниже
        // специфичные поля вроде ссылок должны прилететь здесь
        {
            "id": "1",
            "type": "blocks",
            "relationships": {
                "author": {
                    "data": {
                        "type": "user",
                        "id": "1"
                    },
                    "links": {
                        "self": "/blocks/1/relationships/author",
                        "related": "/blocks/1/author"
                    }
                }
            }
        }
    ],
    "included": {
        // остальные данные
        "blocks": {
            // объект продублирован, так как данные нужно накапливать в React state
            "1": {
                "attributes": {
                    "id": "1",
                    "block_type": "text",
                    "title": "WIF with physics??",
                    "text_url": "/api/v1.0/blocks/text/1",
                },
                "relationships": {
                    "author": {
                        "type": "user",
                        "id": "1"
                    }
                }
            }
        },
        // связанные данные
        "user": {
            "1": {
                "attributes": {
                    "name": "Awesome teacher",
                    "id": "1"
                }
            }
        }
    }
},

// Первоначальный набор данных для React приложения (task)
{
    "api": {
        "version": "1.0"
    },
    "data": {
        "task": {
            "id": "1",
            "date_until": "21.12.2092",
            "student": {
                "name": "Awesome student",
                "id": "1"
            },
            "teacher": {
                "name": "Awesome teacher",
                "id": "2",
            },
            "group": {
                "name": "Awesome group on Mondays",
                "id": "1"
            },
            "lessons": [
                {
                    "name": "Awesome lesson",
                    "id": "1",
                    "where": "Second Audithory, Lenina st. 2",
                    "nodes": [
                        {
                            "id": "1",
                            "title": "Gauss theoreme",
                            "blocks": [
                                {
                                    "id": "1",
                                    "type": "text",
                                    "content": "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis harum, officiis quas ab tempora corporis. Repudiandae maiores, ducimus debitis minima."
                                },
                                {
                                    "id": "2",
                                    "type": "text",
                                    "content": "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus, porro."
                                },
                                {
                                    "id": "3",
                                    "type": "text",
                                    "content": "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quaerat minus, impedit sit culpa, consectetur ducimus!"
                                }
                            ]
                        },
                        {
                            "id": "2",
                            "title": "Physics and plyometrics",
                            "blocks": [
                                {
                                    "id": "4",
                                    "type": "text",
                                    "content": "Lorem ipsum dolor."
                                },
                                {
                                    "id": "5",
                                    "type": "text",
                                    "content": "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur, assumenda facere nemo."
                                },
                                {
                                    "id": "6",
                                    "type": "text",
                                    "content": "Lorem ipsum dolor sit amet, consectetur adipisicing."
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    }
},

// TaskResult format

{
    "student": 1,
    "task": 1,
    "blocks": {
        // text
        "2":{
            "answer": "True"
        },
        // choice
        "1":{
            "answer": [2, 3]
        },
        // float
        "3":{
            "answer": 20.3
        },
        // textanswer
        "3":{
            "answer": "fdgsdfgsdgdf"
        }
    }
}


{
    "student": 1,
    "task": 3,
    "blocks": {
        "4": {
            "answer":"True"
        },
        "5": {
            "answer":"True"
        },
        "6": {
            "answer":"True"
        },
        "7": {
            "answer":"True"
        },
        "8": {
            "answer": [4, 6]
        },
        "9": {
            "answer": "7a/5"
        },
        "10": {
            "answer": 1
        },
        "11": {
            "answer": 57.5
        },
        "13": {
            "answer": [9]
        },
        "14": {
            "answer": 42
        },
        "15": {
            "answer": 8
        },
        "16": {
            "answer": [18, 20, 21, 22]
        }
    }
}

{
    "student": 1,
    "task": 3,
    "blocks": {
        "4": {
            "answer": true
        },
        "5": {
            "answer": true
        },
        "6": {
            "answer": true
        },
        "7": {
            "answer": true
        },
        "8": {
            "answer": [
                7
            ]
        },
        "9": {
            "answer": "qwe"
        },
        "10": {
            "answer": "qw"
        },
        "11": {
            "answer": 12
        },
        "13": {
            "answer": [
                9
            ]
        },
        "14": {
            "answer": 12
        },
        "15": {
            "answer": 12
        },
        "16": {
            "answer": [
                19,
                18
            ]
        }
    }
}


//User register localhost:80/api/users/register/
{
    "username":"123@mail.ru",
    "email":"123@mail.ru",
    "first_name":"Вася", 
    "last_name":"Пупкин", 
    "password":"12345678"
}